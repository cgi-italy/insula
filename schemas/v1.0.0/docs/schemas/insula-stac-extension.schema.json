{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://cgi-italy.github.io/insula/schemas/v1.0.0/stac/insula-stac-extension.schema.json","title":"Insula platform STAC Extension","description":"STAC Extension for Insula platform collections.","examples":[{"id":"my_raster_collection","type":"Collection","stac_extensions":["https://cgi-italy.github.io/insula/schemas/v1.0.0/stac/insula-stac-extension.schema.json"],"insula:metadata":{"type":"raster","bands":[{"id":"B01","name":"NIR Band","color":"#CC0000","domain":{"min":0,"max":4000,"noData":-1},"quantity":{"id":"reflectance","name":"Reflectance"},"default":{"colorScale":"turbo","range":{"min":0,"max":3200},"clamp":true}}]}},{"id":"my_vector_collection","type":"Collection","stac_extensions":["https://cgi-italy.github.io/insula/schemas/v1.0.0/stac/insula-stac-extension.schema.json"],"insula:metadata":{"type":"vector","feautreAttributes":[{"id":"name","name":"Name","type":"string","description":"Entity name","filterable":true,"sortable":true},{"id":"total","name":"Total","type":"number","filterable":true,"sortable":true},{"id":"class","name":"Class","type":"enum","domain":{"values":[{"value":1,"label":"First Class"},{"value":2,"label":"Second Class"}]},"filterable":true,"sortable":true},{"id":"date","name":"Date","type":"date","domain":{"min":"1928-12-16T00:00:00Z","max":"1982-03-02T23:59:59Z"}}],"timeDimensionProperty":"date"}}],"oneOf":[{"$comment":"This is the schema for STAC Collections.","title":"Basic collection properties","allOf":[{"type":"object","title":"Collection type attributes","properties":{"type":{"type":"string","title":"Collection type constant","const":"Collection"}},"required":["type"]},{"$ref":"#/$defs/stac_extensions"}],"anyOf":[{"$comment":"This is the schema for the top-level fields in a Collection. Remove this if this extension does not define top-level fields for Collections.","allOf":[{"$comment":"Require fields here for Collections (top-level).","title":"Required fields","required":[]},{"$ref":"#/$defs/fields"}]}]}],"$defs":{"stac_extensions":{"type":"object","title":"STAC extensions attributes","properties":{"stac_extensions":{"type":"array","title":"STAC extensions array","contains":{"type":"string","title":"Insula STAC extension $id","const":"https://cgi-italy.github.io/insula/schemas/v1.0.0/stac/insula-stac-extension.schema.json"}}},"required":["stac_extensions"]},"fields":{"$comment":"Add your new fields here. Don't require them here, do that above in the corresponding schema.","type":"object","title":"Insula STAC collection fields","properties":{"insula:metadata":{"type":"object","title":"Insula metadata","description":"Insula platform specific collection metadata","$comment":"Regarding raster collections we should probably extend the 'bands' array and use the raster extension instead of defining it again","$ref":"../common/platform-collection.schema.json"}},"patternProperties":{"^(?!insula:)":{"title":"Namespace sealing","description":"Prevent setting additional insula properties"}},"additionalProperties":false}}}
